---
import BaseLayout from '../layouts/BaseLayout.astro';
import SpinningSunAsciiArt from '../components/SpinningSunAsciiArt.astro';

// SEO-optimized metadata
const seoMeta = {
  title: 'Sun Envidiado',
  description:
    "Hey, I'm Sun! I code stuff (mostly Flutter these days), game way too much, and sing my heart out at karaoke. This is my little corner of the internet where I share thoughts on code, games, and whatever else is on my mind.",
  tags: ['sun envidiado', 'personal website', 'developer blog', 'gaming', 'coding', 'manila'],
};

// JSON-LD Structured Data for better SEO
const siteBase = Astro.site ?? 'https://sun-envidiado.com';
const imageUrl = new URL('/default.png', siteBase).toString();

const jsonLd = {
  '@context': 'https://schema.org',
  '@graph': [
    {
      '@type': 'WebSite',
      '@id': `${siteBase}/#website`,
      url: siteBase,
      name: 'Sun Envidiado',
      description: seoMeta.description,
      inLanguage: 'en-US',
    },
    {
      '@type': 'Person',
      '@id': `${siteBase}/#person`,
      name: 'Sun Envidiado',
      url: siteBase,
      image: imageUrl,
      jobTitle: 'Software Developer',
      description: seoMeta.description,
      knowsAbout: [
        'Flutter',
        'Dart',
        'JavaScript',
        'Web Development',
        'Mobile Development',
        'C#',
        '.NET',
        'PHP',
        'Laravel',
      ],
      sameAs: ['https://github.com/photosunthesis', 'https://www.linkedin.com/in/sunenvidiado/'],
    },
  ],
};
---

<BaseLayout
  title={seoMeta.title}
  description={seoMeta.description}
  tags={seoMeta.tags}
  type="website"
  jsonLd={jsonLd}
>
  <div class="index-main-content">
    <SpinningSunAsciiArt />
    <div class="intro-container">
      <h1 class="sr-only">{seoMeta.title}</h1>
      <span class="intro-heading"
        >{`Hi! I'm Sun Envidiado. Welcome to my little corner on the internet.`}</span
      >
      <span class="intro-body"
        >{
          `I'm a software developer, gamer, and karaoke enthusiast. This space is where you can get to know me better and peek into my thoughts about code, games, life, whatever's on my mind. Navigate around using the commands below.`
        }</span
      >
    </div>
    <nav class="command-hints-container" aria-label="Quick commands">
      <div class="command-hints-grid">
        <div class="command-hint-row">
          <span class="command-hint-type">type/tap</span>
          <span class="command-hint-command">
            <span class="command-action-group">
              <a
                class="command-action command-hint-action"
                href="/about"
                data-command=":about"
                aria-label="Go to :about"
              >
                :about&lt;Enter&gt;
              </a>
            </span>
          </span>
          <span class="command-hint-description">to learn more about me.</span>
        </div>
        <div class="command-hint-row">
          <span class="command-hint-type">type/tap</span>
          <span class="command-hint-command">
            <span class="command-action-group">
              <a
                class="command-action command-hint-action"
                href="/contact"
                data-command=":contact"
                aria-label="Go to :contact"
              >
                :contact&lt;Enter&gt;
              </a>
            </span>
          </span>
          <span class="command-hint-description">to get in touch.</span>
        </div>
        <div class="command-hint-row">
          <span class="command-hint-type">type/tap</span>
          <span class="command-hint-command">
            <span class="command-action-group">
              <a
                class="command-action command-hint-action"
                href="/blog"
                data-command=":blog"
                aria-label="Go to :blog"
              >
                :blog&lt;Enter&gt;
              </a>
            </span>
          </span>
          <span class="command-hint-description">to read my latest blogs.</span>
        </div>
        <div class="command-hint-row">
          <span class="command-hint-type">type/tap</span>
          <span class="command-hint-command">
            <span class="command-action-group">
              <a
                class="command-action command-hint-action"
                href="/work"
                data-command=":work"
                aria-label="Go to :work"
              >
                :work&lt;Enter&gt;
              </a>
            </span>
          </span>
          <span class="command-hint-description">for my work details.</span>
        </div>
      </div>
    </nav>
  </div>
</BaseLayout>

<style lang="scss">
  $max-content-width: 500px;

  .index-main-content {
    margin-top: -5rem;
  }

  .intro-container {
    max-width: $max-content-width;
    margin: 0 auto;
    color: var(--foreground);
    text-align: left;
    white-space: pre-line;
  }

  .intro-heading {
    display: block;
    text-align: center;
    margin-bottom: 1em;
    line-height: 1.5;
  }

  .intro-body {
    display: block;
    text-align: justify;
    line-height: 1.5;
  }

  .command-hints-container {
    width: 100%;
    max-width: $max-content-width;
    margin: 1rem auto 0;
    color: var(--comment);
  }

  // CSS Grid approach for perfect column alignment
  .command-hints-grid {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 0.25rem 1ch;
    align-items: baseline;
    width: 100%;
  }

  .command-hint-row {
    display: contents; // Makes the row wrapper disappear so children become direct grid items
  }

  .command-hint-type {
    color: var(--comment);
    font-family: inherit;
    justify-self: end;
    white-space: nowrap;
    margin-right: 0.5ch;
  }

  .command-hint-command {
    color: var(--foreground);
    font-family: inherit;
    display: flex;
    align-items: baseline;
    flex-wrap: wrap;
    gap: 0.25ch;
    justify-self: start;
  }

  .command-action-group {
    display: inline-flex;
    align-items: baseline;
    gap: 0.25ch;
  }

  .command-separator {
    color: var(--comment);
    white-space: nowrap;
  }

  .command-hint-description {
    color: var(--comment);
    font-family: inherit;
    justify-self: start;
    margin-left: 0.5ch;
    white-space: nowrap;

    // Prevent text from being cut off
    overflow: visible;
    text-overflow: clip;
  }

  .command-hint-action {
    color: var(--cyan);
    text-decoration: none;
    background: transparent;
    padding: 0;
    border-radius: 0;
    border: none;
    font-family: inherit;
    white-space: nowrap;
    cursor: pointer;

    &:hover,
    &:focus {
      text-decoration: underline;
      color: var(--cyan);
      outline: none;
    }

    &:focus-visible {
      box-shadow: 0 0 0 2px color-mix(in srgb, var(--cyan) 30%, transparent);
    }
  }

  // Medium screens - allow wider container for better alignment
  @media (min-width: 600px) {
    .command-hints-grid {
      gap: 0.75rem 0.1ch;
    }

    .command-hint-type {
      margin-right: 1ch;
    }

    .command-hint-description {
      margin-left: 1ch;
    }
  }

  // Mobile responsive - stack vertically
  @media (max-width: 600px) {
    .index-main-content {
      padding: 0 1rem;
      margin-top: -4rem;
    }

    .command-hints-grid {
      display: block; // Switch back to block layout
    }

    .command-hint-row {
      display: block;
      margin-bottom: 0.75rem;
      text-align: left;
      line-height: 1.5;

      &:last-child {
        margin-bottom: 0;
      }
    }

    .command-hint-type,
    .command-hint-command,
    .command-hint-description {
      display: inline;
      white-space: normal;
    }

    .command-hint-type {
      margin-right: 0;

      &::after {
        content: ' ';
      }
    }

    .command-hint-command {
      &::before {
        content: ' ';
      }

      &::after {
        content: ' ';
      }
    }

    .command-hint-description {
      margin-left: 0;
    }

    .command-action-group {
      display: inline;
    }
  }
</style>
